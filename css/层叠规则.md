# 层叠规则

所谓层叠规则，指的是网页中的元素发生层叠时的表现规则。

z-index：z-index 属性只有和「定位元素」（position 不为 static 的元素）在一起的时候才有作用

css3 中，z-index 已经并非只对定位元素有效，flex 盒子的「子元素」也可以设置 z-index 属性

## 层叠上下文的特性

层叠上下文的层叠水平要比普通元素高

层叠上下文可以嵌套，内部层叠上下文以及其所有元素均受制于外部的层叠上下文

每个层叠上下文和兄弟元素独立
当进行层叠变化或渲染的时候，只需考虑后代元素

每个层叠上下文是自成体系的，当元素发生层叠时，整个元素被认为是在父层叠上下文的层叠顺序中

## 创建层叠上下文 3 类

1. 页面根元素天生具有层叠上下文

2. 正统派

z-index 值为数值的定位元素的传统层叠上下文

3. 扩招派

1.父元素设置 flex，同时 z-index 的值不为 auto

2.元素的 opactity 值不是 1

3.transform 值不是 none

4.元素的 mix-blend-mode 值不是 normal - 混合模式

5.元素的 filter 值不是 none - 滤镜

6.元素的 will-change 属性值为上面 ②~⑥ 的任意一个（如 will-change:opacity）
